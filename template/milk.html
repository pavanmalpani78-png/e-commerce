<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Milk Orders | Milk Khata</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background: linear-gradient(135deg, #6dd5ed, #2193b0);
            min-height: 100vh;
        }

        .card {
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
        }
    </style>
</head>

<body>
    {% include 'navbar.html' %}




    <div class="container mt-5">

        <!-- Add Milk Order -->
        <div class="card p-4 mb-4">
            <h3 class="mb-3">âž• Add Milk Order</h3>

            <form method="POST">
                {% csrf_token %}

                <div class="row">
                    <div class="col-md-3 mb-3">
                        <label class="form-label">Customer</label>
                        <select name="customer" class="form-select" required>
                            <option value="">-- Select Customer --</option>
                            {% for c in customers %}
                            <option value="{{ c.id }}">{{ c.name }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="col-md-3 mb-3">
                        <label class="form-label">Milk Type</label>
                        <input type="text" name="milk_type" class="form-control" placeholder="Cow / Buffalo" required>
                    </div>

                    <div class="col-md-2 mb-3">
                        <label class="form-label">Quantity (L)</label>
                        <input type="number" step="0.1" name="quantity" class="form-control" required>
                    </div>

                    <div class="col-md-2 mb-3">
                        <label class="form-label">Rate (â‚¹)</label>
                        <input type="number" step="0.1" name="rate" class="form-control" required>
                    </div>

                    <div class="col-md-2 mb-3 d-flex align-items-end">
                        <button type="submit" class="btn btn-success w-100">Add</button>
                    </div>
                </div>
            </form>
        </div>

        <!-- Milk Order List -->
        <div class="card p-4">
            <h3 class="mb-3">ðŸ“‹ Milk Orders List</h3>

            <table class="table table-bordered table-striped">
                <thead class="table-primary">
                    <tr>
                        <th>Date</th>
                        <th>Customer</th>
                        <th>Milk Type</th>
                        <th>Quantity (L)</th>
                        <th>Rate (â‚¹)</th>
                        <th>Total (â‚¹)</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    {% for order in orders %}
                    <tr>
                        <td>{{ order.date }}</td>
                        <td>{{ order.customer.name }}</td>
                        <td>{{ order.milk_type }}</td>
                        <td>{{ order.quantity }}</td>
                        <td>{{ order.rate }}</td>
                        <td><strong>{{ order.total }}</strong></td>
                        <td>{{ order.status }}</td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="7" class="text-center">No milk orders found</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

    </div>

</body>

</html>